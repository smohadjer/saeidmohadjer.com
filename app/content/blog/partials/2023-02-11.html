<article class="post">
  <h1>Deploy to Vercel only when a specific file or folder in repository is changed</h1>
  <time datetime="2023-02-11">2023-02-11</time>
  <p>When you install Vercel application on GitHub and give it access to your repository, GitHub will trigger a deployment on Vercel every time there is 
    a new commit in your main branch, however if your API on Vercel only needs to be updated when a certain file or folder is changed, these 
    deployments are unnecessary. You can avoid unnecessary deployments to Vercel using GitHub Actions as described here: 
    <a href="https://vercel.com/guides/how-can-i-use-github-actions-with-vercel">https://vercel.com/guides/how-can-i-use-github-actions-with-vercel</a>.</p>
  <p>Another advantage of using GitHub Actions with Vercel is that you can uninstall Vercel application from GitHub as Vercel no longer needs access to 
    your GitHub repository. You simply need to create a token on Vercel and store it along with ID of your Vercel project in a secret in your Github 
    repository at https://github.com/your-username/your-repository/settings/secrets/actions</p>
  <p>Below is a workflow example from my project that triggers a deployment to Vercel only when schedule.json is changed:</p>
    <pre><code>
    name: Vercel Production Deployment
env:
  VERCEL_ORG_ID: ${{ secrets.VERCEL_ORG_ID }}
  VERCEL_PROJECT_ID: ${{ secrets.VERCEL_PROJECT_ID }}
on:
  push:
    branches:
      - master
    paths:
      - app/assets/schedule.json
jobs:
  Deploy-Production:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Install Vercel CLI
        run: npm install --global vercel@latest
      - name: Pull Vercel Environment Information
        run: vercel pull --yes --environment=production --token=${{ secrets.VERCEL_TOKEN }}
      - name: Build Project Artifacts
        run: vercel build --prod --token=${{ secrets.VERCEL_TOKEN }}
      - name: Deploy Project Artifacts to Vercel
        run: vercel deploy --prebuilt --prod --token=${{ secrets.VERCEL_TOKEN }}</code></pre>
</article>
